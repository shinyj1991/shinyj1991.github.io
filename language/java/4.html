<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=1">
    <title>[Java] 초기화 블록</title>
    <link rel="stylesheet" href="/assets/css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  </head>
  <body>
    <div id="wrap">
      <header id="header">
        <h1 class="logo"><a href="/">SIMPLIZM</a></h1>
        <button class="btn-menu-toggle" onclick="$('body').toggleClass('open-gnb');"><span>전체메뉴</span></button>
        <nav class="gnb">
          <ul>
            <!--  -->
            
            
              
              
              
              
                
                
                
                
                <li><a href="/category/Language">Language
                  
                  <span class="count">(13)</span>
                </a>
                  
                  <ul>
                    
                    <li>
                      <a href="/category/Java/">Java
                        
                        <span>(6)</span>
                      </a>
                    </li>
                    
                    <li>
                      <a href="/category/Javascript/">Javascript
                        
                        <span>(7)</span>
                      </a>
                    </li>
                    
                  </ul>
                  
                </li>
              
            
              
              
              
              
            
              
              
              
              
                
                
                
                
                <li><a href="/category/Library">Library
                  
                  <span class="count">(16)</span>
                </a>
                  
                  <ul>
                    
                    <li>
                      <a href="/category/Etc/">Etc
                        
                        <span>(1)</span>
                      </a>
                    </li>
                    
                    <li>
                      <a href="/category/React/">React
                        
                        <span>(15)</span>
                      </a>
                    </li>
                    
                  </ul>
                  
                </li>
              
            
              
              
              
              
            
              
              
              
              
            
              
              
              
              
                
                
                
                
                <li><a href="/category/Framework">Framework
                  
                  <span class="count">(6)</span>
                </a>
                  
                  <ul>
                    
                    <li>
                      <a href="/category/Codeigniter/">Codeigniter
                        
                        <span>(1)</span>
                      </a>
                    </li>
                    
                    <li>
                      <a href="/category/Next.js/">Next.js
                        
                        <span>(5)</span>
                      </a>
                    </li>
                    
                  </ul>
                  
                </li>
              
            
              
              
              
              
            
              
              
              
              
            
              
              
              
              
                
                
                
                
                <li><a href="/category/Web Standards">Web Standards
                  
                  <span class="count">(1)</span>
                </a>
                  
                </li>
              
            
              
              
              
              
            
          </ul>
        </nav>
      </header>

      <main id="container">
        <article class="post-wrap">
  <aside id="post-aside" class="post-aside">
    <div class="toc-outer">
      <ul>
        <li>
          <a href="#[Java] 초기화 블록">[Java] 초기화 블록</a>
          <ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#필드의-초기화">필드의 초기화</a></li>
<li class="toc-entry toc-h2"><a href="#초기화-블록initialization-block">초기화 블록(initialization block)</a>
<ul>
<li class="toc-entry toc-h3"><a href="#인스턴스-초기화-블록">인스턴스 초기화 블록</a></li>
<li class="toc-entry toc-h3"><a href="#클래스-초기화-블록">클래스 초기화 블록</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#필드의-초기화-순서">필드의 초기화 순서</a></li>
</ul>
        </li>
      </ul>
    </div>
  </aside>
  <div id="post-content" class="post-content">
    <div class="post-head">
      <h1 id="[Java] 초기화 블록">[Java] 초기화 블록</h1>
    </div>
    <div class="post-meta">
      <div>
        2021-01-27 20:32
        ShinyJ
      </div>
    </div>
    <div id="post-body" class="post-body"><h2 id="필드의-초기화">필드의 초기화</h2>

<p>자바에서 필드는 초기화하지 않아도 변수의 타입에 맞는 초깃값으로 자동 초기화됩니다.
하지만 지역 변수와 마찬가지로 적절한 값으로 초기화한 후에 사용하는 것이 좋습니다.</p>

<p>이러한 필드는 지역 변수와는 달리 여러 가지 방법으로 초기화할 수 있습니다.
자바에서는 필드를 초기화하기 위해 다음과 같은 방법들을 제공합니다.</p>

<ol>
  <li>명시적 초기화</li>
  <li>생성자를 이용한 초기화</li>
  <li>초기화 블록을 이용한 초기화</li>
</ol>

<p>명시적 초기화는 지역 변수를 초기화하는 방법과 마찬가지로 필드를 선언과 동시에 초기화하는 방법입니다.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Field</span> <span class="o">{</span>
    <span class="kd">static</span> <span class="kt">int</span> <span class="n">classVar</span> <span class="o">=</span> <span class="mi">10</span><span class="o">;</span> <span class="c1">// 클래스 변수의 명시적 초기화</span>
    <span class="kt">int</span> <span class="n">instanceVar</span> <span class="o">=</span> <span class="mi">20</span><span class="o">;</span> <span class="c1">// 인스턴스 변수의 명시적 초기화</span>
<span class="o">}</span>
</code></pre></div></div>

<p>생성자를 이용한 초기화는 객체의 생성과 동시에 필드를 초기화하는 방법입니다.
따라서 생성자를 이용한 초기화는 인스턴스를 생성할 때까지 필드를 초기화할 수 없습니다.</p>

<h2 id="초기화-블록initialization-block">초기화 블록(initialization block)</h2>

<p>필드를 초기화하는 마지막 방법으로는 자바에서 제공하는 초기화 블록(initialization block)을 이용하는 방법이 있습니다.
초기화 블록이란 클래스 필드의 초기화만을 담당하는 중괄호({})로 둘러싸인 블록을 의미합니다.
초기화 블록은 생성자보다 먼저 호출되며, static 키워드의 유무에 따라 다음과 같이 구분할 수 있습니다.</p>

<ol>
  <li>인스턴스 초기화 블록</li>
  <li>클래스 초기화 블록</li>
</ol>

<p>이러한 초기화 블록에는 다양한 명령문 및 제어문을 사용할 수 있으므로, 복잡한 초기화를 해야 할 경우 유용하게 사용됩니다.</p>

<h3 id="인스턴스-초기화-블록">인스턴스 초기화 블록</h3>

<p>인스턴스 초기화 블록은 단순히 중괄호({})만을 사용하여 정의할 수 있습니다.
이러한 인스턴스 초기화 블록은 생성자와 마찬가지로 인스턴스가 생성될 때마다 실행됩니다.
하지만 언제나 인스턴스 초기화 블록이 생성자보다 먼저 실행됩니다.</p>

<p>생성자와 인스턴스 초기호 ㅏ블록의 차이는 거의 없으므로 인스턴스 초기화 블록은 잘 사용되지 않습니다.
단, 여러 개의 생성자가 있으면 모든 생성자에서 공통으로 수행되어야 할 코드를 인스턴스 초기화 블록에 포함하여 코드의 중복을 막을 수 있습니다.</p>

<p>다음 예제는 인스턴스 초기화 블록을 이용하여 여러 생성자에서 공통된 부분을 분리하는 예제입니다.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Car</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">modelName</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">modelYear</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">color</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">maxSpeed</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">currentSpeed</span><span class="o">;</span>

    <span class="o">{</span> <span class="c1">// 인스턴스 초기화 블록</span>
        <span class="k">this</span><span class="o">.</span><span class="na">currentSpeed</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nc">Car</span><span class="o">()</span> <span class="o">{}</span>
    <span class="nc">Car</span><span class="o">(</span><span class="nc">String</span> <span class="n">modelName</span><span class="o">,</span> <span class="kt">int</span> <span class="n">modelYear</span><span class="o">,</span> <span class="nc">String</span> <span class="n">color</span><span class="o">,</span> <span class="kt">int</span> <span class="n">maxSpeed</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">modelName</span> <span class="o">=</span> <span class="n">modelName</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">modelYear</span> <span class="o">=</span> <span class="n">modelYear</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">color</span> <span class="o">=</span> <span class="n">color</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">maxSpeed</span> <span class="o">=</span> <span class="n">maxSpeed</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getSpeed</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">currentSpeed</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Member03</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Car</span> <span class="n">myCar</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Car</span><span class="o">();</span> <span class="c1">// 인스턴스 생성</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">myCar</span><span class="o">.</span><span class="na">getSpeed</span><span class="o">());</span> <span class="c1">// 인스턴스 메소드의 호출</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>실행 결과
0
</code></pre></div></div>

<h3 id="클래스-초기화-블록">클래스 초기화 블록</h3>

<p>클래스 초기화 블록은 인스턴스 초기화 블록에 static 키워드를 추가하여 정의할 수 있습니다.
이러한 클래스 초기화 블록은 클래스가 처음으로 메모리에 로딩될 때 단 한 번만 실행됩니다.</p>

<p>클래스 초기화 블록은 생성자나 인스턴스 초기화 블록으로는 수행할 수 없는 클래스 변수의 초기화를 수행할 때 사용됩니다.</p>

<p>다음 예제는 클래스 초기화 블록을 이용하여 클래스 변수를 초기화하는 예제입니다.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">InitBlock</span> <span class="o">{</span>
    <span class="kd">static</span> <span class="kt">int</span> <span class="n">classVar</span><span class="o">;</span> <span class="c1">// 클래스 변수</span>
    <span class="kt">int</span> <span class="n">instanceVar</span><span class="o">;</span> <span class="c1">// 인스턴스 변수</span>

    <span class="kd">static</span> <span class="o">{</span> <span class="c1">// 클래스 초기화 블록을 이용한 초기화</span>
        <span class="n">classVar</span> <span class="o">=</span> <span class="mi">10</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Member04</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="nc">InitBlock</span><span class="o">.</span><span class="na">classVar</span><span class="o">);</span> <span class="c1">// 클래스 변수에 접근</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>실행 결과
10
</code></pre></div></div>

<h2 id="필드의-초기화-순서">필드의 초기화 순서</h2>

<p>클래스의 필드는 앞서 살펴본 것과 같이 다양한 방법으로 초기화할 수 있습니다.
따라서 같은 필드가 여러 번 초기화될 가능성이 있습니다.</p>

<p>자바에서 필드는 다음과 같은 순서로 초기화됩니다.</p>

<ol>
  <li>클래스 변수 : 기본값 → 명시적 초기화 → 클래스 초기화 블록</li>
  <li>인스턴스 변수 : 기본값 → 명시적 초기화 →인스턴스 초기화 블록 → 생성자</li>
</ol>

<p>다음 예제는 클래스 변수와 인스턴스 변수가 초기화되는 순서를 보여주는 예제입니다.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">InitBlock</span> <span class="o">{</span>
    <span class="kd">static</span> <span class="kt">int</span> <span class="n">classVar</span> <span class="o">=</span> <span class="mi">10</span><span class="o">;</span> <span class="c1">// 클래스 변수의 명시적 초기화</span>
    <span class="kt">int</span> <span class="n">instanceVar</span> <span class="o">=</span> <span class="mi">10</span><span class="o">;</span> <span class="c1">// 인스턴스 변수의 명시적 초기화</span>
    <span class="kd">static</span> <span class="o">{</span> <span class="n">classVar</span> <span class="o">=</span> <span class="mi">20</span><span class="o">;</span> <span class="o">}</span> <span class="c1">// 클래스 초기화 블록을 이용한 초기화</span>
    <span class="o">{</span> <span class="n">instanceVar</span> <span class="o">=</span> <span class="mi">20</span><span class="o">;</span> <span class="o">}</span> <span class="c1">// 인스턴스 초기화 블록을 이용한 초기화</span>
    <span class="nc">InitBlock</span><span class="o">()</span> <span class="o">{</span> <span class="n">instanceVar</span> <span class="o">=</span> <span class="mi">30</span><span class="o">;</span> <span class="o">}</span> <span class="c1">// 생성자를 이용한 초기화</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Method05</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="nc">InitBlock</span><span class="o">.</span><span class="na">classVar</span><span class="o">);</span>
        <span class="nc">InitBlock</span> <span class="n">myInit</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">InitBlock</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">myInit</span><span class="o">.</span><span class="na">instanceVar</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>실행 결과
20
30
</code></pre></div></div>

<p>위의 예제처럼 같은 필드를 여러 번 초기화하면, 제일 마지막으로 초기화한 값만이 남게 됩니다.</p>

<p><br /></p>

<p>출처 : <a href="http://www.tcpschool.com/java/java_member_initBlock" target="_blank">http://www.tcpschool.com/java/java_member_initBlock</a></p>
</div>
  </div>
</article>

<!-- DISQUS 광고가 개쩔어서 주석처리
<div id="disqus_thread"></div>
<script>
    var disqus_config = function() {
      this.page.url = 'https://shinyj1991.github.io/language/java/4';
      this.page.identifier = '/language/java/4';
    };

    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://simplizm.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> -->

<script>
  let arrHeaderPos = [];
  let arrHeaderId = [];

  const getHeaderAttr = () => {
    arrHeaderPos = [];
    arrHeaderId = [];

    $('#post-content :header').each(function (i, o) {
      arrHeaderPos.push(o.offsetTop - 10);
      arrHeaderId.push(o.id);
    });

    arrHeaderPos.push(999999);
    arrHeaderId.push('');
  }

  const resizeObserver = new ResizeObserver(entries => {
    getHeaderAttr();
  });

  resizeObserver.observe(document.body);

  $(document).ready(() => {
    getHeaderAttr();
  });

  $(window).on('load scroll', function () {
    for (let i = 0; i < arrHeaderPos.length; i++) {
      if (window.scrollY < arrHeaderPos[i]) {
        $('#post-aside').find('a').removeClass('active');
        if (arrHeaderId[i - 1]) {
          $(`a[href="#${arrHeaderId[i - 1]}"]`).addClass('active').focus();
        }
        break;
      }
    }
  });
</script>
      </main>

      <footer id="footer">
        <ul class="sns">
          <li><a href="https://github.com/shinyj1991" target="_blank">Github</a></li>
          <li><a href="https://www.instagram.com/shinyj_/" target="_blank">Instagram</a></li>
          <li><a href="https://simplizm.tistory.com/" target="_blank">Tistory</a></li>
        </ul>
        <p class="copyright">&copy; 2020. ShinyJ. Powered by Jekyll.</p>
      </footer>
    </div>
  </body>
</html>